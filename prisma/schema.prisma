// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

enum Title {
  MR
  MRS
}

model Student {
  spuId       String   @id @db.VarChar(16)
  title       Title
  firstName   String
  middleName  String
  lastName    String
  batch       String
  course      String
  nationality String
  dob         DateTime
  address     String
  Result      Result[]
}

model Result {
  id        Int     @id @default(autoincrement())
  student   Student @relation(references: [spuId], fields: [fspuId])
  fspuId    String  @db.VarChar(16)
  sem       String
  examMonth String
  examYear  String
  type      String
  spi       Float
  Marks     Marks[]
}

model Subject {
  subCode String  @id
  subName String
  sem     String
  course  String
  batch   String
  Marks   Marks[]
}

model Marks {
  id             Int     @id @default(autoincrement())
  result         Result  @relation(references: [id], fields: [fid])
  subject        Subject @relation(fields: [subjectSubCode], references: [subCode])
  fid            Int
  subjectSubCode String
  internal       Int
  internalTotal  Int
  external       Int
  externalTotal  Int
  grade          String
}

// Reference k liye
// model Post {
//   id        Int      @default(autoincrement()) @id
//   createdAt DateTime @default(now())
//   updatedAt DateTime @updatedAt
//   title     String   @db.VarChar(255)
//   content   String?
//   published Boolean  @default(false)
//   author    User     @relation(fields: [authorId], references: [id])
//   authorId  Int
// }
